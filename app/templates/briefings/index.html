{% extends "layouts/base.html" %}

{% block title %}AI ë¸Œë¦¬í•‘ ì•„ì¹´ì´ë¸Œ - NR2 Network{% endblock %}
{% block og_title %}AI ë¸Œë¦¬í•‘ ì•„ì¹´ì´ë¸Œ - NR2 Network{% endblock %}
{% block og_desc %}ë§¤ì¼ AIê°€ ì •ë¦¬í•˜ëŠ” ë‰´ìŠ¤ ë¸Œë¦¬í•‘ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”{% endblock %}

{% block extra_css %}
<style>
    .briefing-card {
        transition: transform 0.2s, box-shadow 0.2s;
    }
    .briefing-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    .type-badge {
        font-size: 0.7rem;
        padding: 2px 8px;
        border-radius: 9999px;
        color: white;
        font-weight: 600;
    }
    .filter-btn {
        transition: all 0.2s;
    }
    .filter-btn.active {
        background-color: #1a1a28;
        color: #D4A843;
        border-color: #D4A843;
    }
</style>
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 py-8">
    <!-- í—¤ë” -->
    <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">ğŸ“° AI ë¸Œë¦¬í•‘ ì•„ì¹´ì´ë¸Œ</h1>
        <p class="text-gray-500">ë§¤ì¼ AIê°€ ì •ë¦¬í•˜ëŠ” ë‰´ìŠ¤ ë¸Œë¦¬í•‘ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
    </div>

    <!-- í•„í„° -->
    <div class="flex flex-wrap justify-center gap-2 mb-8">
        <a href="{{ url_for('briefings.index') }}"
           class="filter-btn px-4 py-2 rounded-full border text-sm font-medium
                  {% if not current_type %}active{% else %}border-gray-300 text-gray-600 hover:bg-gray-100{% endif %}">
            ì „ì²´
        </a>
        <a href="{{ url_for('briefings.index', type='ai_morning') }}"
           class="filter-btn px-4 py-2 rounded-full border text-sm font-medium
                  {% if current_type == 'ai_morning' %}active{% else %}border-gray-300 text-gray-600 hover:bg-gray-100{% endif %}">
            ğŸŒ… ì•„ì¹¨ AI
        </a>
        <a href="{{ url_for('briefings.index', type='ai_evening') }}"
           class="filter-btn px-4 py-2 rounded-full border text-sm font-medium
                  {% if current_type == 'ai_evening' %}active{% else %}border-gray-300 text-gray-600 hover:bg-gray-100{% endif %}">
            ğŸŒ† ì €ë… AI
        </a>
        <a href="{{ url_for('briefings.index', type='political_afternoon') }}"
           class="filter-btn px-4 py-2 rounded-full border text-sm font-medium
                  {% if current_type == 'political_afternoon' %}active{% else %}border-gray-300 text-gray-600 hover:bg-gray-100{% endif %}">
            ğŸ›ï¸ ì˜¤í›„ ì •ì¹˜
        </a>
        <a href="{{ url_for('briefings.index', type='political_evening') }}"
           class="filter-btn px-4 py-2 rounded-full border text-sm font-medium
                  {% if current_type == 'political_evening' %}active{% else %}border-gray-300 text-gray-600 hover:bg-gray-100{% endif %}">
            ğŸŒ™ ì €ë… ì •ì¹˜
        </a>
    </div>

    <!-- ë¸Œë¦¬í•‘ ëª©ë¡ -->
    {% if briefings.items %}
    <div class="space-y-4">
        {% for b in briefings.items %}
        <a href="{{ url_for('briefings.detail', briefing_id=b.id) }}" class="block">
            <div class="briefing-card bg-white rounded-xl border border-gray-200 p-5">
                <div class="flex items-start justify-between gap-4">
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="type-badge" style="background-color: {{ b.type_badge_color }}">
                                {{ b.type_label }}
                            </span>
                            <span class="text-xs text-gray-400">
                                {{ b.created_at.strftime('%Y.%m.%d %H:%M') }}
                            </span>
                        </div>
                        <h2 class="text-lg font-semibold text-gray-800 mb-1 truncate">
                            {{ b.title or 'ë¸Œë¦¬í•‘' }}
                        </h2>
                        <p class="text-sm text-gray-500 line-clamp-2">
                            {{ b.content[:150] | replace('\n', ' ') }}â€¦
                        </p>
                    </div>
                    <div class="flex-shrink-0 text-gray-300">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </div>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>

    <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
    {% if briefings.pages > 1 %}
    <div class="flex justify-center items-center gap-2 mt-8">
        {% if briefings.has_prev %}
        <a href="{{ url_for('briefings.index', page=briefings.prev_num, type=current_type) }}"
           class="px-4 py-2 rounded-lg border border-gray-300 text-sm text-gray-600 hover:bg-gray-100">
            â† ì´ì „
        </a>
        {% endif %}

        <span class="px-4 py-2 text-sm text-gray-500">
            {{ briefings.page }} / {{ briefings.pages }}
        </span>

        {% if briefings.has_next %}
        <a href="{{ url_for('briefings.index', page=briefings.next_num, type=current_type) }}"
           class="px-4 py-2 rounded-lg border border-gray-300 text-sm text-gray-600 hover:bg-gray-100">
            ë‹¤ìŒ â†’
        </a>
        {% endif %}
    </div>
    {% endif %}

    {% else %}
    <div class="text-center py-20">
        <div class="text-6xl mb-4">ğŸ“­</div>
        <h3 class="text-xl font-semibold text-gray-600 mb-2">ì•„ì§ ë¸Œë¦¬í•‘ì´ ì—†ìŠµë‹ˆë‹¤</h3>
        <p class="text-gray-400">ë§¤ì¼ ì•„ì¹¨ 6ì‹œ, ì˜¤í›„ 1ì‹œ, ì €ë… 6ì‹œ, ë°¤ 10ì‹œì— ìë™ ìƒì„±ë©ë‹ˆë‹¤</p>
    </div>
    {% endif %}
</div>
{% endblock %}
